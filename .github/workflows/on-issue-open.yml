name: Open Issue Workflow

on:
  issues:
    types: [opened]

jobs:
  assign_issues_to_backlog:
    name: Assign New Issue to Backlog
    runs-on: ubuntu-latest
    steps:
      - uses: technote-space/create-project-card-action@v1
        with:
          PROJECT: Backlog
          COLUMN: Triage

  autolable_issues:
    name: Apply Labels to New Issue
    runs-on: ubuntu-latest
    steps:
      - uses: Naturalclar/issue-action@v2.0.2
        with:
          title-or-body: "both"
          parameters: '[ {"keywords": ["build", "tool"], "labels": ["type: build"], "assignees": [""]},
                         {"keywords": ["ci"], "labels": ["type: ci"], "assignees": [""]},
                         {"keywords": ["documentation"], "labels": ["type: docs"], "assignees": [""]},
                         {"keywords": ["feature", "feat"], "labels": ["type: feature"], "assignees": [""]},
                         {"keywords": ["fix", "bugfix", "hotfix"], "labels": ["type: fix"], "assignees": [""]},
                         {"keywords": ["refactor"], "labels": ["type: refactor"], "assignees": [""]},
                         {"keywords": ["style"], "labels": ["type: style"], "assignees": [""]},
                         {"keywords": ["test", "tests"], "labels": ["type: test"], "assignees": [""]}]'
          github-token: "${{ secrets.GITHUB_TOKEN }}"
