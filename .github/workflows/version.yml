name: Determine Next SemVer

on:
  pull_request:
    branches:
      - release/v*

jobs:
  bump_semantic_version:
    name: Bump Semantic Version
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2
        with:
          fetch-depth: 0
      - name: Determine Implied Version
        id: gitversion
        uses: paulhatch/semantic-version@v3.2
        with:
          branch: "develop"
          format: "${major}.${minor}.${patch}-rc${increment}"
          short_tags: false
      - name: Display Implied Version Outputs
        run: |
          echo "Major: ${{ steps.gitversion.outputs.major }}"
          echo "Minor: ${{ steps.gitversion.outputs.minor }}"
          echo "Patch: ${{ steps.gitversion.outputs.patch }}"
          echo "Increment: ${{ steps.gitversion.outputs.increment }}"
          echo "Version: ${{ steps.gitversion.outputs.version }}"
          echo "Version Tag: ${{ steps.gitversion.outputs.version_tag }}"
          echo "Changed: ${{ steps.gitversion.outputs.changed }}"
